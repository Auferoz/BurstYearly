---
import NavHeader from '../components/NavHeader.astro';
import Layout from '../layouts/Layout.astro';

import { getCollection } from 'astro:content';

const games = await getCollection('games');

---

<Layout title="BURST - My List Yearly">
	<main>

		<NavHeader />

		<section aria-label="Lista de juegos jugados en el aÃ±o 2025">
			<div class="p-4 mx-auto max-w-screen-xl max-w-7xl">
				<div class="grid gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5">
				{ games
					.filter((game: { data: any }) => game.data.years_played?.y2025)
					.map((game: { data: any; slug: any; }) => {
						const { data, slug } = game;
						const { title, poster, released } = data;

					return (
						<article class="flex flex-col gap-2">
							<a transition:name={`img-${slug}`} href={`/game/${slug}`} class="transition hover:scale-110">
								<img src={poster} alt={title} class="w-full rounded-lg">
							</a>
							<div class="flex flex-col justify-center">
								<h2 class="text-base font-bold leading-tight text-white text-pretty">
									{title}
								</h2>

								<p class="text-gray-300 max-w-sm">
									<span class="text-xs"> ðŸ“… Released: {released} </span>
								</p>
							</div>
						</article>
					);
				})}
				</div>
			</div>
		</section>
		
	</main>
</Layout>